// Copyright (c) CLMS. All rights reserved.
// Licensed under the AGPL-3.0 license. See LICENSE file in the project root for full license information.
// This source file was autogenerated by zAppDev(r).
using System;
using System.Collections.Generic;
using System.Linq;
using System.Runtime.Serialization;
using System.ServiceModel;
using System.Text;
using System.ServiceModel.Channels;
using System.Security.Permissions;
using System.Security.Principal;
using NHibernate;
using System.ServiceModel.Activation;
using zAppDev.DotNet.Framework.Utilities;
using zAppDev.DotNet.Framework.Data.Domain;
using DSS1_RetailerDriverStockOptimisation.Services.exportSalesForecastDetails.DataContracts;
using DSS1_RetailerDriverStockOptimisation.BO;
using AutoMapper;

namespace DSS1_RetailerDriverStockOptimisation.Services
{
    [AspNetCompatibilityRequirements(RequirementsMode = AspNetCompatibilityRequirementsMode.Required)]
    public class exportSalesForecastDetailsService : IexportSalesForecastDetailsService
    {
        public System.Collections.Generic.List<SalesDTO> ExportSalesForecastDetails(string _RequestSourceIp, string _UserName)
        {
            InitializeMappers();
            try
            {
                var _exportSalesForecastDetails = ExportSalesForecastDetailsImplementation();
                var result = Mapper.Map<System.Collections.Generic.List<DSS1_RetailerDriverStockOptimisation.BO.Sales>, System.Collections.Generic.List<SalesDTO>>(_exportSalesForecastDetails);
                return result;
            }
            catch (Exception @exception)
            {
                log4net.LogManager.GetLogger("exportSalesForecastDetails Service").Error(@exception);
                throw;
            }
        }


        private void InitializeMappers()
        {
            Mapper.CreateMap<SalesDTO, DSS1_RetailerDriverStockOptimisation.BO.Sales>();
            Mapper.CreateMap<DSS1_RetailerDriverStockOptimisation.BO.Sales, SalesDTO>();
            Mapper.CreateMap<ItemDTO, DSS1_RetailerDriverStockOptimisation.BO.Item>();
            Mapper.CreateMap<DSS1_RetailerDriverStockOptimisation.BO.Item, ItemDTO>();
        }

        public static System.Collections.Generic.List<DSS1_RetailerDriverStockOptimisation.BO.Sales> ExportSalesForecastDetailsImplementation()
        {
            return new DSS1_RetailerDriverStockOptimisation.DAL.Repository().GetAsQueryable<DSS1_RetailerDriverStockOptimisation.BO.Sales>()?.Take(500).ToList();
        }


    }
}