// Copyright (c) CLMS. All rights reserved.
// Licensed under the AGPL-3.0 license. See LICENSE file in the project root for full license information.
// This source file was autogenerated by zAppDev(r).
var directiveScopeReadyLimit = 10;
var directiveScopeReadyTimeout = 200;
window.onbeforeunload = (e) => {
    if (window._context.isDirty) {
        var msg = window._resourcesManager.getGlobalResource("RES_WEBFORM_DirtyMessage");
        e.returnValue = msg;     // Gecko, Trident, Chrome 34+
        return msg;
    }
};
interface Window { scope_SupplierView: DSS1_RetailerDriverStockOptimisation.Controllers.ISupplierViewScope; }
namespace DSS1_RetailerDriverStockOptimisation.Controllers {
const SupplierViewConditionalFormattings = [
new Joove.JbRule({
name: "CollapseLeftColumnOnlyConditional",
type: Joove.RuleTypes.ConditionalFormatting,
isDataSetRule: false,
evaluatedAtServer: false,
contextControlName: null,


condition: async (_parents) => {
        return Joove.Common.nullSafe<any>(() => window["scope_SupplierView"].model.CollapseLeftColumn, false);

    },
evaluationTimes: [Joove.EvaluationTimes.OnLoad,Joove.EvaluationTimes.OnSubmit,Joove.EvaluationTimes.OnChange],
isRelatedToDataValidation: false
}),
new Joove.JbRule({
name: "CollapseRightColumnOnlyConditional",
type: Joove.RuleTypes.ConditionalFormatting,
isDataSetRule: false,
evaluatedAtServer: false,
contextControlName: null,


condition: async (_parents) => {
        return Joove.Common.nullSafe<any>(() => window["scope_SupplierView"].model.CollapseRightColumn, false) && !(Joove.Common.nullSafe<any>(() => window["scope_SupplierView"].model.CollapseLeftColumn, false));

    },
evaluationTimes: [],
isRelatedToDataValidation: false
}),
new Joove.JbRule({
name: "CollapseBothColumnsConditional",
type: Joove.RuleTypes.ConditionalFormatting,
isDataSetRule: false,
evaluatedAtServer: false,
contextControlName: null,


condition: async (_parents) => {
        return Joove.Common.nullSafe<any>(() => window["scope_SupplierView"].model.CollapseRightColumn, false) && Joove.Common.nullSafe<any>(() => window["scope_SupplierView"].model.CollapseLeftColumn, false);

    },
evaluationTimes: [],
isRelatedToDataValidation: false
}),
new Joove.JbRule({
name: "AllExpandedConditional",
type: Joove.RuleTypes.ConditionalFormatting,
isDataSetRule: false,
evaluatedAtServer: false,
contextControlName: null,


condition: async (_parents) => {
        return !(Joove.Common.nullSafe<any>(() => window["scope_SupplierView"].model.CollapseLeftColumn, false));

    },
evaluationTimes: [Joove.EvaluationTimes.OnLoad,Joove.EvaluationTimes.OnSubmit,Joove.EvaluationTimes.OnChange],
isRelatedToDataValidation: false
}),
new Joove.JbRule({
name: "ShowHideMenuItemConditional",
type: Joove.RuleTypes.ConditionalFormatting,
isDataSetRule: false,
evaluatedAtServer: false,
contextControlName: null,


condition: async (_parents) => {
        return CLMS.Framework.Number.GreaterThan(() => window["scope_SupplierView"].model.SelectedOrderFDetails.length, () => 0);

    },
evaluationTimes: [Joove.EvaluationTimes.OnLoad,Joove.EvaluationTimes.OnSubmit,Joove.EvaluationTimes.OnChange],
isRelatedToDataValidation: false
}),
new Joove.JbRule({
name: "HideReplyButtonConditional",
type: Joove.RuleTypes.ConditionalFormatting,
isDataSetRule: false,
evaluatedAtServer: false,
contextControlName: null,


condition: async (_parents) => {
        return Joove.Common.nullSafe<any>(() => window["scope_SupplierView"].model.SupplierReplied, false);

    },
evaluationTimes: [Joove.EvaluationTimes.OnLoad,Joove.EvaluationTimes.OnSubmit,Joove.EvaluationTimes.OnChange],
isRelatedToDataValidation: false
}),
new Joove.JbRule({
name: "ModalShowHideLabelsConditional",
type: Joove.RuleTypes.ConditionalFormatting,
isDataSetRule: false,
evaluatedAtServer: false,
contextControlName: null,


condition: async (_parents) => {
        return CLMS.Framework.Number.GreaterThan(() => window["scope_SupplierView"].model.RecommendationsCount, () => 0);

    },
evaluationTimes: [Joove.EvaluationTimes.OnLoad,Joove.EvaluationTimes.OnSubmit,Joove.EvaluationTimes.OnChange],
isRelatedToDataValidation: false
}),
        ];
export var SupplierView_listOrderForecastDetails_ConditionalFormattings = {
ApplyRecommendationColorConditional:
    {
'forRow':
        {
'whenTrue':
            ['ApplyCssClass|recommendation-color']
        },
'forColumns':
        {

        }
    },
ApplyAlertColorConditional:
    {
'forRow':
        {
'whenTrue':
            ['ApplyCssClass|alert-color']
        },
'forColumns':
        {

        }
    },
};
const SupplierViewDataValidations = [
                                    ];
const SupplierViewCalculatedExpressions = [
        ];
// Manual Data for DropdownBox
window["dataForDropdownBox"] = [ {
_key: " ",
_text: window._resourcesManager.getComboBoxManualValueDisplay('FlowTypes', '0', false , null),
_default: false
}, {
_key: "PBL",
_text: window._resourcesManager.getComboBoxManualValueDisplay('FlowTypes', '1', false , null),
_default: false
}, {
_key: "PBS",
_text: window._resourcesManager.getComboBoxManualValueDisplay('FlowTypes', '2', false , null),
_default: false
}, {
_key: "PBL-PBS",
_text: window._resourcesManager.getComboBoxManualValueDisplay('FlowTypes', '3', false , null),
_default: false
} ]
// Manual Data for OptionButton
window["dataForOptionButton"] = [ {
_key: "Alerts",
_text: window._resourcesManager.getRadioButtonManualValueDisplay('ListOptions', '0', false , null),
_default: false
}, {
_key: "Recommendations",
_text: window._resourcesManager.getRadioButtonManualValueDisplay('ListOptions', '1', false , null),
_default: false
}, {
_key: "All",
_text: window._resourcesManager.getRadioButtonManualValueDisplay('ListOptions', '2', false , null),
_default: false
} ]

// Datasets Column Info
var listWarehouses_ColumnInfo = [
new Joove.Widgets.DataListColumnInfo({
dataType: "string",
dataTypeIsEnum: false,
name: "Description",
caption: window._resourcesManager.getDataListColumnCaption("listWarehouses", "Description", false),
groupable: true,
searchable: true,
visible: true,
orderable: true,
editable: false,
style: "",
classes: "",
itemType: Joove.Widgets.DataListColumnItemType.TEXTBOX,
importable: false,
supportsAggregators: true,
    length: 100,
formatting: null,
width: null,
css: "",
isEncrypted: false,
showFullImage: false
})] as any;
window["listWarehouses_ColumnInfo"] = listWarehouses_ColumnInfo;
var listSKUs_ColumnInfo = [
new Joove.Widgets.DataListColumnInfo({
dataType: "string",
dataTypeIsEnum: false,
name: "Description",
caption: window._resourcesManager.getDataListColumnCaption("listSKUs", "Description", false),
groupable: true,
searchable: true,
visible: true,
orderable: true,
editable: false,
style: "",
classes: "",
itemType: Joove.Widgets.DataListColumnItemType.TEXTBOX,
importable: false,
supportsAggregators: true,
    length: 100,
formatting: null,
width: null,
css: "",
isEncrypted: false,
showFullImage: false
})] as any;
window["listSKUs_ColumnInfo"] = listSKUs_ColumnInfo;
export var ItemsDS_ColumnInfo = [new Joove.ColumnInfo("Description", "string", null, false),
                                 new Joove.ColumnInfo("original", "Item", null, false)];
window["ItemsDS_ColumnInfo"] = ItemsDS_ColumnInfo;
export var FlowTypes_ColumnInfo = [new Joove.ColumnInfo("Value", "string", null,  true)];
window["FlowTypes_ColumnInfo"] = FlowTypes_ColumnInfo;
var lstOrderForecasts_ColumnInfo = [
new Joove.Widgets.DataListColumnInfo({
dataType: "int",
dataTypeIsEnum: false,
name: "Id",
caption: window._resourcesManager.getDataListColumnCaption("lstOrderForecasts", "Id", false),
groupable: true,
searchable: true,
visible: false,
orderable: true,
editable: false,
style: "",
classes: "",
itemType: Joove.Widgets.DataListColumnItemType.TEXTBOX,
importable: false,
supportsAggregators: true,
length: null,
formatting: null,
width: null,
css: "",
isEncrypted: false,
showFullImage: false
}),

new Joove.Widgets.DataListColumnInfo({
dataType: "DateTime",
dataTypeIsEnum: false,
name: "StartDate",
caption: window._resourcesManager.getDataListColumnCaption("lstOrderForecasts", "StartDate", false),
groupable: true,
searchable: true,
visible: true,
orderable: true,
editable: false,
style: "",
classes: "",
itemType: Joove.Widgets.DataListColumnItemType.TEXTBOX,
importable: false,
supportsAggregators: true,
length: null,
formatting: { 'dateFormat': 'DD/MM/YY', 'backEndFormatting': 'dd/MM/yy' , 'excelFormat': 'dd/MM/yy' },
width: null,
css: "",
isEncrypted: false,
showFullImage: false
}),

new Joove.Widgets.DataListColumnInfo({
dataType: "DateTime",
dataTypeIsEnum: false,
name: "EndDate",
caption: window._resourcesManager.getDataListColumnCaption("lstOrderForecasts", "EndDate", false),
groupable: true,
searchable: true,
visible: true,
orderable: true,
editable: false,
style: "",
classes: "",
itemType: Joove.Widgets.DataListColumnItemType.TEXTBOX,
importable: false,
supportsAggregators: true,
length: null,
formatting: { 'dateFormat': 'D/MM/YYYY', 'backEndFormatting': 'd/MM/yyyy' , 'excelFormat': 'd/MM/yyyy' },
width: null,
css: "",
isEncrypted: false,
showFullImage: false
}),

new Joove.Widgets.DataListColumnInfo({
dataType: "string",
dataTypeIsEnum: false,
name: "Status",
caption: window._resourcesManager.getDataListColumnCaption("lstOrderForecasts", "Status", false),
groupable: true,
searchable: true,
visible: true,
orderable: true,
editable: false,
style: "",
classes: "",
itemType: Joove.Widgets.DataListColumnItemType.TEXTBOX,
importable: false,
supportsAggregators: true,
    length: 100,
formatting: null,
width: null,
css: "",
isEncrypted: false,
showFullImage: false
}),

new Joove.Widgets.DataListColumnInfo({
dataType: "string",
dataTypeIsEnum: false,
name: "CreatedBy",
caption: window._resourcesManager.getDataListColumnCaption("lstOrderForecasts", "CreatedBy", false),
groupable: true,
searchable: true,
visible: true,
orderable: true,
editable: false,
style: "",
classes: "",
itemType: Joove.Widgets.DataListColumnItemType.TEXTBOX,
importable: false,
supportsAggregators: true,
    length: 100,
formatting: null,
width: null,
css: "",
isEncrypted: false,
showFullImage: false
}),

new Joove.Widgets.DataListColumnInfo({
dataType: "DateTime",
dataTypeIsEnum: false,
name: "CreatedOn",
caption: window._resourcesManager.getDataListColumnCaption("lstOrderForecasts", "CreatedOn", false),
groupable: true,
searchable: true,
visible: true,
orderable: true,
editable: false,
style: "",
classes: "",
itemType: Joove.Widgets.DataListColumnItemType.TEXTBOX,
importable: false,
supportsAggregators: true,
length: null,
formatting: { 'dateFormat': 'D-MMM-YYYY H:mm', 'backEndFormatting': 'd-MMM-yyyy H:mm' , 'excelFormat': 'd-MMM-yyyy H:mm' },
width: null,
css: "",
isEncrypted: false,
showFullImage: false
})] as any;
window["lstOrderForecasts_ColumnInfo"] = lstOrderForecasts_ColumnInfo;
export var ForecastVS_ColumnInfo = [new Joove.ColumnInfo("OrderDateFormatted", "string", null, false),
                                    new Joove.ColumnInfo("SupplierStock", "int", null, false),
                                    new Joove.ColumnInfo("OrderQuantity", "int", null, false)];
window["ForecastVS_ColumnInfo"] = ForecastVS_ColumnInfo;
export var StockDataSet_ColumnInfo = [new Joove.ColumnInfo("OrderDateFormatted", "string", null, false),
                                      new Joove.ColumnInfo("StockOnHand", "int", null, false),
                                      new Joove.ColumnInfo("OrderQuantity", "int", null, false),
                                      new Joove.ColumnInfo("SupplierStock", "int", null, false),
                                      new Joove.ColumnInfo("SalesQuantity", "int", null, false)];
window["StockDataSet_ColumnInfo"] = StockDataSet_ColumnInfo;
export var ListOptions_ColumnInfo = [new Joove.ColumnInfo("Value", "string", null,  true)];
window["ListOptions_ColumnInfo"] = ListOptions_ColumnInfo;
var listOrderForecastDetails_ColumnInfo = [
new Joove.Widgets.DataListColumnInfo({
dataType: "string",
dataTypeIsEnum: false,
name: "Item.SKU",
caption: window._resourcesManager.getDataListColumnCaption("listOrderForecastDetails", "Item.SKU", false),
groupable: true,
searchable: true,
visible: true,
orderable: true,
editable: false,
style: "",
classes: "",
itemType: Joove.Widgets.DataListColumnItemType.TEXTBOX,
importable: false,
supportsAggregators: true,
    length: 100,
formatting: null,
width: null,
css: "",
isEncrypted: false,
showFullImage: false
}),

new Joove.Widgets.DataListColumnInfo({
dataType: "string",
dataTypeIsEnum: false,
name: "Item.Description",
caption: window._resourcesManager.getDataListColumnCaption("listOrderForecastDetails", "Item.Description", false),
groupable: true,
searchable: true,
visible: true,
orderable: true,
editable: false,
style: "",
classes: "",
itemType: Joove.Widgets.DataListColumnItemType.TEXTBOX,
importable: false,
supportsAggregators: true,
    length: 100,
formatting: null,
width: null,
css: "",
isEncrypted: false,
showFullImage: false
}),

new Joove.Widgets.DataListColumnInfo({
dataType: "string",
dataTypeIsEnum: false,
name: "Warehouse.Description",
caption: window._resourcesManager.getDataListColumnCaption("listOrderForecastDetails", "Warehouse.Description", false),
groupable: true,
searchable: true,
visible: true,
orderable: true,
editable: false,
style: "",
classes: "",
itemType: Joove.Widgets.DataListColumnItemType.TEXTBOX,
importable: false,
supportsAggregators: true,
    length: 100,
formatting: null,
width: null,
css: "",
isEncrypted: false,
showFullImage: false
}),

new Joove.Widgets.DataListColumnInfo({
dataType: "DateTime",
dataTypeIsEnum: false,
name: "RecommendedOrderDate",
caption: window._resourcesManager.getDataListColumnCaption("listOrderForecastDetails", "RecommendedOrderDate", false),
groupable: true,
searchable: true,
visible: true,
orderable: true,
editable: false,
style: "",
classes: "",
itemType: Joove.Widgets.DataListColumnItemType.TEXTBOX,
importable: false,
supportsAggregators: true,
length: null,
formatting: { 'dateFormat': 'D/MM/YYYY', 'backEndFormatting': 'd/MM/yyyy' , 'excelFormat': 'd/MM/yyyy' },
width: null,
css: "",
isEncrypted: false,
showFullImage: false
}),

new Joove.Widgets.DataListColumnInfo({
dataType: "int",
dataTypeIsEnum: false,
name: "ItemCoverageDays",
caption: window._resourcesManager.getDataListColumnCaption("listOrderForecastDetails", "ItemCoverageDays", false),
groupable: true,
searchable: true,
visible: true,
orderable: true,
editable: false,
style: "",
classes: "",
itemType: Joove.Widgets.DataListColumnItemType.TEXTBOX,
importable: false,
supportsAggregators: true,
length: null,
formatting: null,
width: null,
css: "",
isEncrypted: false,
showFullImage: false
}),

new Joove.Widgets.DataListColumnInfo({
dataType: "decimal",
dataTypeIsEnum: false,
name: "Quantity",
caption: window._resourcesManager.getDataListColumnCaption("listOrderForecastDetails", "Quantity", false),
groupable: true,
searchable: true,
visible: true,
orderable: true,
editable: false,
style: "",
classes: "",
itemType: Joove.Widgets.DataListColumnItemType.TEXTBOX,
importable: false,
supportsAggregators: true,
length: null,
formatting: null,
width: null,
css: "",
isEncrypted: false,
showFullImage: false
}),

new Joove.Widgets.DataListColumnInfo({
dataType: "int",
dataTypeIsEnum: false,
name: "Notification.Diff",
caption: window._resourcesManager.getDataListColumnCaption("listOrderForecastDetails", "Notification.Diff", false),
groupable: true,
searchable: true,
visible: true,
orderable: true,
editable: false,
style: "",
classes: "",
itemType: Joove.Widgets.DataListColumnItemType.TEXTBOX,
importable: false,
supportsAggregators: true,
length: null,
formatting: null,
width: null,
css: "",
isEncrypted: false,
showFullImage: false
}),

new Joove.Widgets.DataListColumnInfo({
dataType: "int",
dataTypeIsEnum: false,
name: "SupplierAvailableQuantity",
caption: window._resourcesManager.getDataListColumnCaption("listOrderForecastDetails", "SupplierAvailableQuantity", false),
groupable: true,
searchable: true,
visible: true,
orderable: true,
editable: true,
style: "",
classes: "",
itemType: Joove.Widgets.DataListColumnItemType.TEXTBOX,
importable: false,
supportsAggregators: true,
length: null,
formatting: { 'decimals': 0, 'groups': true, 'signed': false, 'showOnlyDecimalPart': false, 'dateFormat': '', 'backEndFormatting': '#,0;\'-\'#,0;\'0\'' , 'excelFormat': '#,##0;-#,##0;#,##0'},
width: null,
css: "",
isEncrypted: false,
showFullImage: false
}),

new Joove.Widgets.DataListColumnInfo({
dataType: "bool",
dataTypeIsEnum: false,
name: "SupplierCanDeliver",
caption: window._resourcesManager.getDataListColumnCaption("listOrderForecastDetails", "SupplierCanDeliver", false),
groupable: true,
searchable: true,
visible: true,
orderable: true,
editable: true,
style: "",
classes: "",
itemType: Joove.Widgets.DataListColumnItemType.CHECKBOX,
importable: false,
supportsAggregators: true,
length: null,
formatting: null,
width: null,
css: "",
isEncrypted: false,
showFullImage: false
}),

new Joove.Widgets.DataListColumnInfo({
dataType: "string",
dataTypeIsEnum: false,
name: "Status",
caption: window._resourcesManager.getDataListColumnCaption("listOrderForecastDetails", "Status", false),
groupable: true,
searchable: false,
visible: true,
orderable: true,
editable: false,
style: "",
classes: "",
itemType: Joove.Widgets.DataListColumnItemType.TEXTBOX,
importable: false,
supportsAggregators: true,
    length: 100,
formatting: null,
width: null,
css: "",
isEncrypted: false,
showFullImage: false
})] as any;
window["listOrderForecastDetails_ColumnInfo"] = listOrderForecastDetails_ColumnInfo;

export class SupplierViewItemsVMDSViewModelDataset extends Joove.IViewModelDataset<any> {


    constructor(model, partialViewControlName: string = null) {
        super(model, partialViewControlName);
        this.limit = 0;
    }

    Filter(inputs: any): (DataItem: any, index: number, items: Array<any>) => boolean {
        var $scope = { model: this.model };

        return (DataItem, index, items) => {
            return true;


        };
    }

    PackInputs($control: JQuery): any {
        return Joove.DatasourceManager.getDatasetControlInputs($control);
    }

    Sort(items: Joove.ViewModelCollection): Joove.ViewModelCollection {
        return items;
    }

    GetSource(parents: number[]): Joove.ViewModelCollection {
        return this.model.SelectedSKUs;
    }


}



export class SupplierViewSelectedOrderFDetailsVMViewModelDataset extends Joove.IViewModelDataset<any> {


    constructor(model, partialViewControlName: string = null) {
        super(model, partialViewControlName);
        this.limit = 0;
    }

    Filter(inputs: any): (DataItem: any, index: number, items: Array<any>) => boolean {
        var $scope = { model: this.model };

        return (DataItem, index, items) => {
            return true;


        };
    }

    PackInputs($control: JQuery): any {
        return Joove.DatasourceManager.getDatasetControlInputs($control);
    }

    Sort(items: Joove.ViewModelCollection): Joove.ViewModelCollection {
        return items;
    }

    GetSource(parents: number[]): Joove.ViewModelCollection {
        return this.model.SelectedOrderFDetails;
    }


}



// Datasets Projection Shemas
window["listWarehouses_ProjectionScema"] = {};

window["ddlSKUs_ProjectionScema"] = {};

window["lstOrderForecasts_ProjectionScema"] = {Supplier:
                                               {Id: ''
                                                       , Name:
                                                       {}
                                               }
                                              };






export interface ISupplierViewScope extends Joove.IWebPageScope {
model:
    DSS1_RetailerDriverStockOptimisation.ViewModels.SupplierView.SupplierViewViewModel;
_partialModelStructure:
    any;
    _validations?: {
summary: Array<Joove.Validation.BindingEntry>,

    },
    _masterValidations?: any;
}

class SupplierViewController {
private timeoutDelayLockIcon1Clicked:
    any;
private timeoutDelayLockButton1Clicked:
    any;
private timeoutDelayLockButton2Clicked:
    any;
private timeoutDelayLockbtnNoExcessStockClicked:
    any;
private timeoutDelayLockIconFiltersClicked:
    any;
private timeoutDelayLocktxtFromDateOnChange:
    any;
private timeoutDelayLocktxtToDateOnChange:
    any;
private timeoutDelayLocklistWarehousesOnChange:
    any;
private timeoutDelayLocklistSKUsOnChange:
    any;
private timeoutDelayLockddlSKUsOnChange:
    any;
private timeoutDelayLockDropdownBoxOnChange:
    any;
private timeoutDelayLocklstSendClicked:
    any;
private timeoutDelayLocklstOrderForecastsOnChange:
    any;
private timeoutDelayLockIcon5Clicked:
    any;
private timeoutDelayLockIcon2Clicked:
    any;
private timeoutDelayLockButtonClicked:
    any;
private timeoutDelayLockIcon6Clicked:
    any;
private timeoutDelayLockIcon31Clicked:
    any;
private timeoutDelayLockMIAcceptAllClicked:
    any;
private timeoutDelayLockOptionButtonOnChange:
    any;


    private controllerActionFinished = (resetDirty: boolean) => {
        //window.scope_SupplierView.model = window.scope_SupplierView.dehydrate();
        //window.scope_MasterPage.model = window.scope_SupplierView.model;
        DSS1_RetailerDriverStockOptimisation.ViewModels.SupplierView.SupplierViewViewModel._lightCast(window.scope_SupplierView.model);
        // Joove.Common.applyScope(window.scope_SupplierView);
        if (resetDirty) {
            window._context.isDirty = false;
        }
        window._ruleEngine.update(Joove.EvaluationTimes.OnChange);
    }

    constructor(private $scope: ISupplierViewScope, $timeout: ng.ITimeoutService) {
        window.scope_SupplierView = $scope;
        $scope.$onControlChanged = function (event, newValue, dontMakeDirty) {
            Joove.Core.onChange(event.target, newValue, dontMakeDirty)
        }

        $scope.dehydrate = (context = null) => DSS1_RetailerDriverStockOptimisation.ViewModels.SupplierView.SupplierViewViewModel._initializeFrom($scope.model, context);
        $scope._validationsMaster =  window.scope_MasterPage._validations;
        $scope._validations = { summary:
                                [],
                              };

        this.init($scope, $timeout);
        $timeout(() => {

            window._ruleEngine.update(Joove.EvaluationTimes.OnLoad, null, () => {

                $("body").fadeIn(200);

            });
        });

    }

    init($scope: ISupplierViewScope, $timeout: ng.ITimeoutService) {


        $scope.model = DSS1_RetailerDriverStockOptimisation.ViewModels.SupplierView.SupplierViewViewModel._initializeFrom(window.viewDTO.Model);

        window.scope_MasterPage.model = $scope.model;

        new Joove.ReferencesReconstructor().reconstructReferences($scope.model);
        $scope.trackObject = obj => Joove.Common.trackObject(obj);


        //}

        $.connection['eventsHub'].on('__connectedEvent');

        $.connection['eventsHub'].on('forcePageReload', () => {
            window.onbeforeunload = null;
            setTimeout(() => {
                window.location.reload();
            }, 3000);
        });
        $.connection.hub.start(() => {
            Joove.Common.getScope().connectedToSignals();
            Joove.Common.getMasterScope().connectedToSignals();

        });
        $scope.connectedToSignals = () => {
        }
// Event Listeners
        $scope.events = {
        };
        $scope.expressions = {
        }
// Dataset Handler
        $scope.datasets = {

ItemsVMDS:
            (partialViewControlName: string = null) => {
                return new DSS1_RetailerDriverStockOptimisation.Controllers.SupplierViewItemsVMDSViewModelDataset($scope.model, partialViewControlName);
            },

SelectedOrderFDetailsVM:
            (partialViewControlName: string = null) => {
                return new DSS1_RetailerDriverStockOptimisation.Controllers.SupplierViewSelectedOrderFDetailsVMViewModelDataset($scope.model, partialViewControlName);
            },
        };
// Controller actions
        $scope.actions = {
Render:
            async (_cb, _modalOptions, _e) => {
                Joove.Common.autocompleteFix();


                Joove.Core.executeRedirectControllerAction("SupplierView", "Render", "GET", [], {}, _modalOptions);
            },
AddSubcategory:
            async (_cb, _modalOptions, _e) => {
                Joove.Common.autocompleteFix();

                const implementation = async (): Promise<any> => {

                    // Joove.Common.applyScope(window.scope_SupplierView);
                }

                await window._ruleEngine.update(Joove.EvaluationTimes.OnSubmit);

                let spamHelper = new Joove.SpamControlHelper(_e);
                spamHelper.Disable();
                await implementation();
                spamHelper.Enable();
                this.controllerActionFinished(true);
            },
SelectForecast:
            async (_cb, _modalOptions, _e) => {
                Joove.Common.autocompleteFix();
                await window._ruleEngine.update(Joove.EvaluationTimes.OnSubmit);

                window._context.isDirty = false;
                Joove.Core.executeControllerActionNew({
verb: 'POST', controller: 'SupplierView', action: 'SelectForecast',
queryData: [], postData: {'model': $scope.model},
cb: _cb, modalOptions: _modalOptions, event: _e
                });
            },
RecalculateForecast:
            async (_cb, _modalOptions, _e) => {
                Joove.Common.autocompleteFix();
                await window._ruleEngine.update(Joove.EvaluationTimes.OnSubmit);

                window._context.isDirty = false;
                Joove.Core.executeControllerActionNew({
verb: 'POST', controller: 'SupplierView', action: 'RecalculateForecast',
queryData: [], postData: {'model': $scope.model},
cb: _cb, modalOptions: _modalOptions, event: _e
                });
            },
RefreshFilters:
            async (caller, _cb, _modalOptions, _e) => {
                Joove.Common.autocompleteFix();

                const implementation = async (): Promise<any> => {
                    if ((caller == "BusinessUnits")) {}

                    if ((caller == "Categories")) {}

                    if ((caller == "Subcategories")) {}

                    if ((caller == "SKU")) {
                        Joove.Common.nullSafe<any>(() => window._commander.dataListRefresh(['listSKUs']), null);
                    }

                    Joove.Common.nullSafe<any>(() => window._commander.dataListRefresh(['listOrderForecastDetails']), null);

                    Joove.Common.nullSafe<any>(() => window._commander.chartRefresh(["chartOrderForecast"]), null);

                    Joove.Common.nullSafe<any>(() => window._commander.chartRefresh(["chartStockLevels"]), null);


                    // Joove.Common.applyScope(window.scope_SupplierView);
                }

                await window._ruleEngine.update(Joove.EvaluationTimes.OnSubmit);

                let spamHelper = new Joove.SpamControlHelper(_e);
                spamHelper.Disable();
                await implementation();
                spamHelper.Enable();
                this.controllerActionFinished(true);
            },
AddSKU:
            async (_cb, _modalOptions, _e) => {
                Joove.Common.autocompleteFix();

                const implementation = async (): Promise<any> => {
                    Joove.Common.nullSafe<any>(() => window["scope_SupplierView"].model.SelectedSKUs.add(Joove.Common.nullSafe<any>(() => window["scope_SupplierView"].model.SelectedSKU, null)), null);

                    window["scope_SupplierView"].model.SelectedSKU = null;

                    Joove.Common.nullSafe<any>(() => $scope.actions.RefreshFilters("SKU"), null);


                    // Joove.Common.applyScope(window.scope_SupplierView);
                }

                await window._ruleEngine.update(Joove.EvaluationTimes.OnSubmit);

                let spamHelper = new Joove.SpamControlHelper(_e);
                spamHelper.Disable();
                await implementation();
                spamHelper.Enable();
                this.controllerActionFinished(true);
            },
CollapseLeft:
            async (_cb, _modalOptions, _e) => {
                Joove.Common.autocompleteFix();

                const implementation = async (): Promise<any> => {
                    if (Joove.Common.nullSafe<any>(() => window["scope_SupplierView"].model.CollapseLeftColumn, false)) {
                        window["scope_SupplierView"].model.CollapseLeftColumn = false;
                    } else {
                        window["scope_SupplierView"].model.CollapseLeftColumn = true;
                    }

                    Joove.Common.nullSafe<any>(() => window._commander.dataListUpdateSize(['listOrderForecastDetails']), null);


                    // Joove.Common.applyScope(window.scope_SupplierView);
                }

                await window._ruleEngine.update(Joove.EvaluationTimes.OnSubmit);

                let spamHelper = new Joove.SpamControlHelper(_e);
                spamHelper.Disable();
                await implementation();
                spamHelper.Enable();
                this.controllerActionFinished(true);
            },
ReplyToOrderForecast:
            async (_cb, _modalOptions, _e) => {
                Joove.Common.autocompleteFix();
                await window._ruleEngine.update(Joove.EvaluationTimes.OnSubmit);

                window._context.isDirty = false;
                Joove.Core.executeControllerActionNew({
verb: 'POST', controller: 'SupplierView', action: 'ReplyToOrderForecast',
queryData: [], postData: {'model': $scope.model},
cb: _cb, modalOptions: _modalOptions, event: _e
                });
            },
SendForecastToSupplier:
            async (_cb, _modalOptions, _e) => {
                Joove.Common.autocompleteFix();
                await window._ruleEngine.update(Joove.EvaluationTimes.OnSubmit);

                window._context.isDirty = false;
                Joove.Core.executeControllerActionNew({
verb: 'POST', controller: 'SupplierView', action: 'SendForecastToSupplier',
queryData: [], postData: {'model': $scope.model},
cb: _cb, modalOptions: _modalOptions, event: _e
                });
            },
AcceptAllOrderFDetails:
            async (_cb, _modalOptions, _e) => {
                Joove.Common.autocompleteFix();
                await window._ruleEngine.update(Joove.EvaluationTimes.OnSubmit);

                window._context.isDirty = false;
                Joove.Core.executeControllerActionNew({
verb: 'POST', controller: 'SupplierView', action: 'AcceptAllOrderFDetails',
queryData: [], postData: {'model': $scope.model},
cb: _cb, modalOptions: _modalOptions, event: _e
                });
            },
ListUpdate:
            async (ofDetail, _cb, _modalOptions, _e) => {
                Joove.Common.autocompleteFix();
                await window._ruleEngine.update(Joove.EvaluationTimes.OnSubmit);

                window._context.isDirty = false;
                Joove.Core.executeControllerActionNew({
verb: 'POST', controller: 'SupplierView', action: 'ListUpdate',
queryData: [], postData: {'model': $scope.model, 'ofDetail': ofDetail},
cb: _cb, modalOptions: _modalOptions, event: _e
                });
            },
ShowRecommendations:
            async (_cb, _modalOptions, _e) => {
                Joove.Common.autocompleteFix();

                const implementation = async (): Promise<any> => {
                    window["scope_SupplierView"].model.ShowRecommendations = true;

                    window["scope_SupplierView"].model.ShowAlerts = false;

                    Joove.Common.nullSafe<any>(() => window._commander.dataListRefresh(['listOrderForecastDetails']), null);


                    // Joove.Common.applyScope(window.scope_SupplierView);
                }

                await window._ruleEngine.update(Joove.EvaluationTimes.OnSubmit);

                let spamHelper = new Joove.SpamControlHelper(_e);
                spamHelper.Disable();
                await implementation();
                spamHelper.Enable();
                this.controllerActionFinished(true);
            },
ShowAll:
            async (_cb, _modalOptions, _e) => {
                Joove.Common.autocompleteFix();

                const implementation = async (): Promise<any> => {
                    window["scope_SupplierView"].model.ShowAlerts = true;

                    window["scope_SupplierView"].model.ShowRecommendations = true;

                    Joove.Common.nullSafe<any>(() => window._commander.dataListRefresh(['listOrderForecastDetails']), null);


                    // Joove.Common.applyScope(window.scope_SupplierView);
                }

                await window._ruleEngine.update(Joove.EvaluationTimes.OnSubmit);

                let spamHelper = new Joove.SpamControlHelper(_e);
                spamHelper.Disable();
                await implementation();
                spamHelper.Enable();
                this.controllerActionFinished(true);
            },
ShowAlerts:
            async (_cb, _modalOptions, _e) => {
                Joove.Common.autocompleteFix();

                const implementation = async (): Promise<any> => {
                    window["scope_SupplierView"].model.ShowAlerts = true;

                    window["scope_SupplierView"].model.ShowRecommendations = false;

                    Joove.Common.nullSafe<any>(() => window._commander.dataListRefresh(['listOrderForecastDetails']), null);


                    // Joove.Common.applyScope(window.scope_SupplierView);
                }

                await window._ruleEngine.update(Joove.EvaluationTimes.OnSubmit);

                let spamHelper = new Joove.SpamControlHelper(_e);
                spamHelper.Disable();
                await implementation();
                spamHelper.Enable();
                this.controllerActionFinished(true);
            },
HandleRadioButton:
            async (_cb, _modalOptions, _e) => {
                Joove.Common.autocompleteFix();

                const implementation = async (): Promise<any> => {
                    if (Joove.Common.nullSafe<any>(() => window["scope_SupplierView"].model.FilterList, "") == "Alerts") {
                        window["scope_SupplierView"].model.ShowAlerts = true;
                        window["scope_SupplierView"].model.ShowRecommendations = false;
                    } else if (Joove.Common.nullSafe<any>(() => window["scope_SupplierView"].model.FilterList, "") == "Recommendations") {
                        window["scope_SupplierView"].model.ShowAlerts = false;
                        window["scope_SupplierView"].model.ShowRecommendations = true;
                    } else {
                        window["scope_SupplierView"].model.ShowAlerts = true;
                        window["scope_SupplierView"].model.ShowRecommendations = true;
                    }

                    Joove.Common.nullSafe<any>(() => window._commander.dataListRefresh(['listOrderForecastDetails']), null);


                    // Joove.Common.applyScope(window.scope_SupplierView);
                }

                await window._ruleEngine.update(Joove.EvaluationTimes.OnSubmit);

                let spamHelper = new Joove.SpamControlHelper(_e);
                spamHelper.Disable();
                await implementation();
                spamHelper.Enable();
                this.controllerActionFinished(true);
            },
ModalNo:
            async (_cb, _modalOptions, _e) => {
                Joove.Common.autocompleteFix();
                await window._ruleEngine.update(Joove.EvaluationTimes.OnSubmit);

                window._context.isDirty = false;
                Joove.Core.executeControllerActionNew({
verb: 'POST', controller: 'SupplierView', action: 'ModalNo',
queryData: [], postData: {'model': $scope.model},
cb: _cb, modalOptions: _modalOptions, event: _e
                });
            },
ModalNoExcessStock:
            async (_cb, _modalOptions, _e) => {
                Joove.Common.autocompleteFix();

                const implementation = async (): Promise<any> => {
                    Joove.Common.nullSafe<any>(() => window._commander.hideModal("ModalExcessStock"), null);


                    // Joove.Common.applyScope(window.scope_SupplierView);
                }

                await window._ruleEngine.update(Joove.EvaluationTimes.OnSubmit);

                let spamHelper = new Joove.SpamControlHelper(_e);
                spamHelper.Disable();
                await implementation();
                spamHelper.Enable();
                this.controllerActionFinished(true);
            },
ResolveOfDetails:
            async (ofDetail, _cb, _modalOptions, _e) => {
                Joove.Common.autocompleteFix();
                await window._ruleEngine.update(Joove.EvaluationTimes.OnSubmit);

                window._context.isDirty = false;
                Joove.Core.executeControllerActionNew({
verb: 'POST', controller: 'SupplierView', action: 'ResolveOfDetails',
queryData: [], postData: {'model': $scope.model, 'ofDetail': ofDetail},
cb: _cb, modalOptions: _modalOptions, event: _e
                });
            },
        };
// Events
        $scope.eventCallbacks = {
Icon1Clicked:
            (e: any): any => {
                window._recorder.addState(e);

                if (e != null) {
                    e.stopPropagation();
                    e.preventDefault();
                }
                const name = Joove.Core.getPartialOwnerControlElementId($(e.currentTarget)) || '';
                window._commander.hideModal(name + 'ModalExcessStock');
            },

Button1Clicked:
            (e, DataItem, _parents) => {
                window._recorder.addState(e);

                if (e != null) {
                    e.stopPropagation();
                    e.preventDefault();
                }

                if (this.timeoutDelayLockButton1Clicked != null) {
                    $timeout.cancel(this.timeoutDelayLockButton1Clicked);
                }

                this.timeoutDelayLockButton1Clicked = $timeout(() => {
                    Joove.Common.setControlKeyPressed(e, 0); Joove.Common.setLastClickedElement(e);

                    Joove.Validation.Manager.validateFormAndExecute(() => {
                        $scope.actions.ReplyToOrderForecast(null, null, e);
}, { groups: [Joove.Validation.Constants.ALL_GROUPS], withDataValidationsCheck: true, withRequiredFieldsCheck: true });
                }, 0);
            },

Button2Clicked:
            (e, DataItem, _parents) => {
                window._recorder.addState(e);

                if (e != null) {
                    e.stopPropagation();
                    e.preventDefault();
                }

                if (this.timeoutDelayLockButton2Clicked != null) {
                    $timeout.cancel(this.timeoutDelayLockButton2Clicked);
                }

                this.timeoutDelayLockButton2Clicked = $timeout(() => {
                    Joove.Common.setControlKeyPressed(e, 0); Joove.Common.setLastClickedElement(e);

                    Joove.Validation.Manager.validateFormAndExecute(() => {
                        $scope.actions.ModalNo(null, null, e);
}, { groups: [Joove.Validation.Constants.ALL_GROUPS], withDataValidationsCheck: true, withRequiredFieldsCheck: true });
                }, 0);
            },

btnNoExcessStockClicked:
            (e, DataItem, _parents) => {
                window._recorder.addState(e);

                if (e != null) {
                    e.stopPropagation();
                    e.preventDefault();
                }

                if (this.timeoutDelayLockbtnNoExcessStockClicked != null) {
                    $timeout.cancel(this.timeoutDelayLockbtnNoExcessStockClicked);
                }

                this.timeoutDelayLockbtnNoExcessStockClicked = $timeout(() => {
                    Joove.Common.setControlKeyPressed(e, 0); Joove.Common.setLastClickedElement(e);

                    Joove.Validation.Manager.validateFormAndExecute(() => {
                        $scope.actions.ModalNoExcessStock(null, null, e);
}, { groups: [Joove.Validation.Constants.ALL_GROUPS], withDataValidationsCheck: true, withRequiredFieldsCheck: true });
                }, 0);
            },

IconFiltersClicked:
            (e, DataItem, _parents) => {
                window._recorder.addState(e);

                if (e != null) {
                    e.stopPropagation();
                    e.preventDefault();
                }

                if (this.timeoutDelayLockIconFiltersClicked != null) {
                    $timeout.cancel(this.timeoutDelayLockIconFiltersClicked);
                }

                this.timeoutDelayLockIconFiltersClicked = $timeout(() => {
                    Joove.Common.setControlKeyPressed(e, 0); Joove.Common.setLastClickedElement(e);

                    Joove.Validation.Manager.validateFormAndExecute(() => {
                        $scope.actions.CollapseLeft(null, null, e);
}, { groups: [Joove.Validation.Constants.ALL_GROUPS], withDataValidationsCheck: true, withRequiredFieldsCheck: true });
                }, 0);
            },

txtFromDateOnChange:
            (e, element, DataItem, _parents) => {
                window._recorder.addState(e);


                if (this.timeoutDelayLocktxtFromDateOnChange != null) {
                    $timeout.cancel(this.timeoutDelayLocktxtFromDateOnChange);
                }

                this.timeoutDelayLocktxtFromDateOnChange = $timeout(() => {
                    Joove.Core.onChange($(element).get(0), null, true);

                    Joove.Validation.Manager.validateFormAndExecute(() => {
                        $scope.actions.RefreshFilters("", null, null, e);
}, { groups: [Joove.Validation.Constants.ALL_GROUPS], withDataValidationsCheck: true, withRequiredFieldsCheck: false });
                }, 0);
            },

txtToDateOnChange:
            (e, element, DataItem, _parents) => {
                window._recorder.addState(e);


                if (this.timeoutDelayLocktxtToDateOnChange != null) {
                    $timeout.cancel(this.timeoutDelayLocktxtToDateOnChange);
                }

                this.timeoutDelayLocktxtToDateOnChange = $timeout(() => {
                    Joove.Core.onChange($(element).get(0), null, true);

                    Joove.Validation.Manager.validateFormAndExecute(() => {
                        $scope.actions.RefreshFilters("", null, null, e);
}, { groups: [Joove.Validation.Constants.ALL_GROUPS], withDataValidationsCheck: true, withRequiredFieldsCheck: false });
                }, 0);
            },

listWarehousesOnChange:
            (e, DataItem, _parents) => {
                window._recorder.addState(e);


                if (this.timeoutDelayLocklistWarehousesOnChange != null) {
                    $timeout.cancel(this.timeoutDelayLocklistWarehousesOnChange);
                }

                this.timeoutDelayLocklistWarehousesOnChange = $timeout(() => {

                    if (e.target) {
                        Joove.Core.onChange(e.target, null, false);
                    } else {
                        Joove.Core.onChange($(`[jb-id='${e}']`).get(0), null, false);
                    }


                    Joove.Validation.Manager.validateFormAndExecute(() => {
                        $scope.actions.RefreshFilters("", null, null, e);
}, { groups: [Joove.Validation.Constants.ALL_GROUPS], withDataValidationsCheck: true, withRequiredFieldsCheck: false });
                }, 0);
            },

listSKUsOnChange:
            (e, DataItem, _parents) => {
                window._recorder.addState(e);


                if (this.timeoutDelayLocklistSKUsOnChange != null) {
                    $timeout.cancel(this.timeoutDelayLocklistSKUsOnChange);
                }

                this.timeoutDelayLocklistSKUsOnChange = $timeout(() => {

                    if (e.target) {
                        Joove.Core.onChange(e.target, null, false);
                    } else {
                        Joove.Core.onChange($(`[jb-id='${e}']`).get(0), null, false);
                    }


                    Joove.Validation.Manager.validateFormAndExecute(() => {
                        $scope.actions.RefreshFilters("Subcategories", null, null, e);
}, { groups: [Joove.Validation.Constants.ALL_GROUPS], withDataValidationsCheck: true, withRequiredFieldsCheck: false });
                }, 0);
            },

ddlSKUsOnChange:
            (e, DataItem, _parents) => {
                window._recorder.addState(e);


                if (this.timeoutDelayLockddlSKUsOnChange != null) {
                    $timeout.cancel(this.timeoutDelayLockddlSKUsOnChange);
                }

                this.timeoutDelayLockddlSKUsOnChange = $timeout(() => {

                    if (e.target) {
                        Joove.Core.onChange(e.target, null, true);
                    } else {
                        Joove.Core.onChange($(`[jb-id='${e}']`).get(0), null, true);
                    }


                    Joove.Validation.Manager.validateFormAndExecute(() => {
                        $scope.actions.AddSKU(null, null, e);
}, { groups: [Joove.Validation.Constants.ALL_GROUPS], withDataValidationsCheck: true, withRequiredFieldsCheck: false });
                }, 0);
            },

DropdownBoxOnChange:
            (e, DataItem, _parents) => {
                window._recorder.addState(e);


                if (this.timeoutDelayLockDropdownBoxOnChange != null) {
                    $timeout.cancel(this.timeoutDelayLockDropdownBoxOnChange);
                }

                this.timeoutDelayLockDropdownBoxOnChange = $timeout(() => {

                    if (e.target) {
                        Joove.Core.onChange(e.target, null, false);
                    } else {
                        Joove.Core.onChange($(`[jb-id='${e}']`).get(0), null, false);
                    }


                    Joove.Validation.Manager.validateFormAndExecute(() => {
                        $scope.actions.RefreshFilters("", null, null, e);
}, { groups: [Joove.Validation.Constants.ALL_GROUPS], withDataValidationsCheck: true, withRequiredFieldsCheck: false });
                }, 0);
            },

lstSendClicked:
            (e: any): any => {
                window._recorder.addState(e);

                if (e != null) {
                    e.stopPropagation();
                    e.preventDefault();
                }
                const name = Joove.Core.getPartialOwnerControlElementId($(e.currentTarget)) || '';
                window._commander.showModal(name + 'ModalExcessStock');
            },

lstOrderForecastsOnChange:
            (e, DataItem, _parents) => {
                window._recorder.addState(e);


                if (this.timeoutDelayLocklstOrderForecastsOnChange != null) {
                    $timeout.cancel(this.timeoutDelayLocklstOrderForecastsOnChange);
                }

                this.timeoutDelayLocklstOrderForecastsOnChange = $timeout(() => {

                    if (e.target) {
                        Joove.Core.onChange(e.target, null, false);
                    } else {
                        Joove.Core.onChange($(`[jb-id='${e}']`).get(0), null, false);
                    }


                    Joove.Validation.Manager.validateFormAndExecute(() => {
                        $scope.actions.SelectForecast(null, null, e);
}, { groups: [Joove.Validation.Constants.ALL_GROUPS], withDataValidationsCheck: true, withRequiredFieldsCheck: false });
                }, 0);
            },

Icon5Clicked:
            (e: any): any => {
                window._recorder.addState(e);

                if (e != null) {
                    e.stopPropagation();
                    e.preventDefault();
                }
                const name = Joove.Core.getPartialOwnerControlElementId($(e.currentTarget)) || '';
                window._commander.showModal(name + 'ModalCapacityOForecast');
            },

Icon2Clicked:
            (e: any): any => {
                window._recorder.addState(e);

                if (e != null) {
                    e.stopPropagation();
                    e.preventDefault();
                }
                const name = Joove.Core.getPartialOwnerControlElementId($(e.currentTarget)) || '';
                window._commander.hideModal(name + 'ModalCapacityOForecast');
            },

ButtonClicked:
            (e: any): any => {
                window._recorder.addState(e);

                if (e != null) {
                    e.stopPropagation();
                    e.preventDefault();
                }
                const name = Joove.Core.getPartialOwnerControlElementId($(e.currentTarget)) || '';
                window._commander.hideModal(name + 'ModalStockLevels');
            },

Icon6Clicked:
            (e: any): any => {
                window._recorder.addState(e);

                if (e != null) {
                    e.stopPropagation();
                    e.preventDefault();
                }
                const name = Joove.Core.getPartialOwnerControlElementId($(e.currentTarget)) || '';
                window._commander.showModal(name + 'ModalStockLevels');
            },

Icon31Clicked:
            (e: any): any => {
                window._recorder.addState(e);

                if (e != null) {
                    e.stopPropagation();
                    e.preventDefault();
                }
                const name = Joove.Core.getPartialOwnerControlElementId($(e.currentTarget)) || '';
                window._commander.hideModal(name + 'ModalStockLevels');
            },

MIAcceptAllClicked:
            (e, DataItem, _parents) => {
                window._recorder.addState(e);

                if (e != null) {
                    e.stopPropagation();
                    e.preventDefault();
                }

                if (this.timeoutDelayLockMIAcceptAllClicked != null) {
                    $timeout.cancel(this.timeoutDelayLockMIAcceptAllClicked);
                }

                this.timeoutDelayLockMIAcceptAllClicked = $timeout(() => {
                    Joove.Common.setControlKeyPressed(e, 0); Joove.Common.setLastClickedElement(e);

                    Joove.Validation.Manager.validateFormAndExecute(() => {
                        $scope.actions.AcceptAllOrderFDetails(null, null, e);
}, { groups: [Joove.Validation.Constants.ALL_GROUPS], withDataValidationsCheck: true, withRequiredFieldsCheck: true });
                }, 0);
            },

OptionButtonOnChange:
            (e, DataItem, _parents) => {
                window._recorder.addState(e);


                if (this.timeoutDelayLockOptionButtonOnChange != null) {
                    $timeout.cancel(this.timeoutDelayLockOptionButtonOnChange);
                }

                this.timeoutDelayLockOptionButtonOnChange = $timeout(() => {

                    if (e.target) {
                        Joove.Core.onChange(e.target, null, false);
                    } else {
                        Joove.Core.onChange($(`[jb-id='${e}']`).get(0), null, false);
                    }


                    Joove.Validation.Manager.validateFormAndExecute(() => {
                        $scope.actions.HandleRadioButton(null, null, e);
}, { groups: [Joove.Validation.Constants.ALL_GROUPS], withDataValidationsCheck: true, withRequiredFieldsCheck: false });
                }, 0);
            },

        };

// Rules
        window._ruleEngine.addDataValidations(SupplierViewDataValidations);
        window._ruleEngine.addConditionalFormattings(SupplierViewConditionalFormattings);
        window._ruleEngine.addCalculatedExpressions(SupplierViewCalculatedExpressions);

        window._commander.executeCommands(window.viewDTO.ClientCommands);
        window.viewDTO.ClientCommands = [];

        Joove.Common.setNumberLocalizationSettings();
        Joove.DeveloperApi.init($scope as any, window.scope_MasterPage as any);
        window.$formExtend && window.$formExtend();
        window.$onFormLoaded && window.$onFormLoaded();
    }
}
angular.module("Application").controller("SupplierViewController", ["$scope", "$timeout", SupplierViewController] as Array<string>);
}
